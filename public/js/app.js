"use strict";function Auth(t,e){t.loginUrl=e+"/login",t.signupUrl=e+"/register",t.tokenPrefix=""}function RegisterController(t,e){function o(){t.signup(r.user).then(function(){e.go("login")})}var r=this;r.user={},r.submit=o}function LoginController(t,e){function o(){t.login(r.credentials).then(function(){e.go("postsIndex")})}var r=this;r.credentials={},r.submit=o}function Comment(t,e){return new t(e+"/comments/:id",{id:"@id"},{update:{method:"PUT"}})}function CommentsIndexController(t,e){function o(){console.log("hi ED",r.newcomment),t.save(r.newcomment,function(){e.go("commentsIndex")})}var r=this;r.all=t.query(),r.newcomment={},r.comment=o}function CommentsNewController(t,e,o){function r(){console.log("comment: ",n.comment),t.save(n.comment,function(){e.reload()})}var n=this;n.comment={},n.comment.post_id=parseInt(e.params.id),n.comment.user_id=parseInt(o.getPayload().id),n.create=r}function CommentsShowController(t,e,o){function r(){n.post.$remove(function(){e.go("commentsIndex")})}var n=this;n.post=t.get(e.params),n.delete=r,n.isLoggedIn=o.isAuthenticated}function CommentsEditController(t,e){function o(){r.post.$update(function(){e.go("commentsShow",e.params)})}var r=this;r.post=t.get(e.params),this.update=o}function dragDrop(){var t=new FileReader;return{restrict:"E",replace:!0,templateUrl:"templates/dragDrop.html",scope:{base64:"=",src:"="},link:function(e,o){e.active=!1,t.onload=function(){e.base64=t.result,e.$apply()},o.on("dragover",function(){e.active=!0,e.$apply()}).on("dragover",function(t){t.preventDefault()}).on("dragleave",function(){e.active=!1,e.$apply()}).on("drop",function(e){e.preventDefault();var o=(e.target.files||e.dataTransfer.files)[0];t.readAsDataURL(o)})}}}function Like(t,e){return new t(e+"/likes/:id",{id:"@id"},{update:{method:"PUT"}})}function LikesController(t){function e(){Like.save(o.like,function(){$state.go("postsIndex")})}var o=this;o.like={},o.create=e}function MainController(t,e,o){function r(){t.logout().then(function(){e.go("usersIndex")})}function n(o,r){l.message=null,!t.isAuthenticated()&&s.includes(r.name)&&(o.preventDefault(),e.go("login"),l.message="You must be logged in to go there!")}var l=this;l.isLoggedIn=t.isAuthenticated,l.message=null;var s=["usersEdit"];o.$on("$stateChangeStart",n),l.logout=r}function Post(t,e){return new t(e+"/posts/:id",{id:"@id"},{update:{method:"PUT"}})}function PostsIndexController(t,e,o){function r(t){n.newlike={post_id:t.id},console.log("hi ED",n.newlike),e.save(n.newlike,function(){o.go("postsIndex"),t.likes_length++})}var n=this;n.all=t.query(),n.newlike={},n.like=r}function PostsNewController(t,e){function o(){t.save(r.post,function(){e.go("postsIndex")})}var r=this;r.post={},r.create=o}function PostsShowController(t,e,o){function r(){n.post.$remove(function(){e.go("postsIndex")})}var n=this;n.post=t.get(e.params),console.log(n.post),n.delete=r,n.isLoggedIn=o.isAuthenticated}function PostsEditController(t,e){function o(){r.post.$update(function(){e.go("postsShow",e.params)})}var r=this;r.post=t.get(e.params),this.update=o}function Router(t,e){t.state("usersIndex",{url:"/users",templateUrl:"/templates/usersIndex.html",controller:"UsersIndexController as usersIndex"}).state("register",{url:"/register",templateUrl:"/templates/register.html",controller:"RegisterController as register"}).state("login",{url:"/login",templateUrl:"/templates/login.html",controller:"LoginController as login"}).state("usersShow",{url:"/users/:id",templateUrl:"/templates/usersShow.html",controller:"UsersShowController as usersShow"}).state("usersEdit",{url:"/users/:id/edit",templateUrl:"/templates/usersEdit.html",controller:"UsersEditController as usersEdit"}).state("postsIndex",{url:"/posts",templateUrl:"/templates/postsIndex.html",controller:"PostsIndexController as postsIndex"}).state("postsNew",{url:"/posts/new",templateUrl:"/templates/postsNew.html",controller:"PostsNewController as postsNew"}).state("postsShow",{url:"/posts/:id",templateUrl:"/templates/postsShow.html",controller:"PostsShowController as postsShow"}).state("postsEdit",{url:"/posts/:id/edit",templateUrl:"/templates/postsEdit.html",controller:"PostsEditController as postsEdit"}),e.otherwise("/users")}function UploadController(){var t=this;t.data={}}function User(t,e){return new t(e+"/users/:id",{id:"@id"},{update:{method:"PUT"}})}function UsersIndexController(t){var e=this;e.all=t.query()}function UsersShowController(t,e,o){function r(){n.user.$remove(function(){e.go("usersIndex")})}var n=this;n.user=t.get(e.params),n.delete=r,n.isLoggedIn=o.isAuthenticated}function UsersEditController(t,e){function o(){r.user.$update(function(){e.go("usersShow",e.params)})}var r=this;r.user=t.get(e.params),this.update=o}angular.module("finalProject",["ngResource","ui.router","satellizer"]).constant("API_URL","http://localhost:3000/api").config(Auth),Auth.$inject=["$authProvider","API_URL"],angular.module("finalProject").controller("RegisterController",RegisterController).controller("LoginController",LoginController),RegisterController.$inject=["$auth","$state"],LoginController.$inject=["$auth","$state"],angular.module("finalProject").factory("Comment",Comment),Comment.$inject=["$resource","API_URL"],angular.module("finalProject").controller("CommentsIndexController",CommentsIndexController).controller("CommentsNewController",CommentsNewController).controller("CommentsShowController",CommentsShowController).controller("CommentsEditController",CommentsEditController),CommentsIndexController.$inject=["Comment","Comment","$state"],CommentsNewController.$inject=["Comment","$state","$auth"],CommentsShowController.$inject=["Comment","$state","$auth"],CommentsEditController.$inject=["Comment","$state"],angular.module("finalProject").directive("dragDrop",dragDrop),angular.module("finalProject").factory("Like",Like),Like.$inject=["$resource","API_URL"],angular.module("finalProject").controller("LikesController",LikesController),LikesController.$inject=["Post"],angular.module("finalProject").controller("MainController",MainController),MainController.$inject=["$auth","$state","$rootScope"],angular.module("finalProject").factory("Post",Post),Post.$inject=["$resource","API_URL"],angular.module("finalProject").controller("PostsIndexController",PostsIndexController).controller("PostsNewController",PostsNewController).controller("PostsShowController",PostsShowController).controller("PostsEditController",PostsEditController),PostsIndexController.$inject=["Post","Like","$state"],PostsNewController.$inject=["Post","$state"],PostsShowController.$inject=["Post","$state","$auth"],PostsEditController.$inject=["Post","$state"],angular.module("finalProject").config(Router),Router.$inject=["$stateProvider","$urlRouterProvider"],angular.module("finalProject").controller("UploadController",UploadController),angular.module("finalProject").factory("User",User),User.$inject=["$resource","API_URL"],angular.module("finalProject").controller("UsersIndexController",UsersIndexController).controller("UsersShowController",UsersShowController).controller("UsersEditController",UsersEditController),UsersIndexController.$inject=["User"],UsersShowController.$inject=["User","$state","$auth"],UsersEditController.$inject=["User","$state"];
//# sourceMappingURL=app.js.map
